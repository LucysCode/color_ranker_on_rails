<!DOCTYPE html>
<html>
  <head>
    <title>ColorPairsRanker</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "mobile_responsive", "data-turbo-track": "reload" %>
    <%= javascript_include_tag "application", type: "module", "data-turbo-track": "reload", defer: true %>
    <%= javascript_include_tag "color_pair_utils", "data-turbo-track": "reload", defer: true %>
    <%= javascript_include_tag "color_pair_listeners", "data-turbo-track": "reload", defer: true %>
    <meta name="viewport" content="width=device-width, initial-scale=1">

  </head>
  <body class="mobile-main-view">
    <h3 style="text-align:center">Welcome to Color Pair Ranker!</h3>
    <p style="text-align:center">Which color pair do you like better?</p>
    <p style="text-align:center">Select up to <%= @max_pairs %> ugly pairs and <%= @max_pairs %> great pairs!</p>
    
    <!-- Mobile Back Button -->
    <button class="mobile-back-btn" onclick="showMainView()">‚Üê Back</button>
        <div class="main-container" style="display: flex; justify-content: center;">
      <!-- Ugly Pairs Column -->
      <%= render 'color_pair_column', 
          pairs: @ugly_pairs, 
          column_type: 'ugly', 
          title: 'Top Ugly Pairs' %>
      
      <!-- Middle Column -->
      <%= render 'middle_column' %>
      
      <!-- Nice Pairs Column -->
      <%= render 'color_pair_column', 
          pairs: @nice_pairs, 
          column_type: 'nice', 
          title: 'Top Nice Pairs' %>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
  </body>
</html>